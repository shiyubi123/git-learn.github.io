(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{200:function(e,t,a){e.exports=a(418)},205:function(e,t,a){},206:function(e,t,a){},207:function(e,t,a){},252:function(e,t){},255:function(e,t,a){},310:function(e,t,a){},320:function(e,t,a){},397:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},418:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),l=a.n(o),c=(a(205),a(206),a(24)),i=a(47),s=a(64),u=a(65),d=a(70),m=a(66),p=a(71),f=(a(207),a(98)),E=a.n(f),h=E.a.create({baseURL:"/api"}),g=a(67),b=a.n(g),y=(a(255),a(422)),v=a(426),O=a(141),k=(a(40),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).confirm=function(e){a.props.history.push("/qrorder/r/".concat(a.rid,"/d/").concat(a.did,"/c/").concat(a.state.customs))},a.customsChange=function(e){a.setState({customs:e.target.value})},a.state={customs:0,dinfo:null},a.rid=e.match.params.rid,a.did=e.match.params.did,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=b()(),this.socket.on("connect",(function(){e.socket.emit("join desk",{desk:e.did})})),this.socket.on("someone in",(function(t){e.props.history.push("/qrorder/r/".concat(e.rid,"/d/").concat(e.did,"/c/").concat(t))})),h.get("/deskinfo?did=".concat(this.did)).then((function(t){console.log(t),e.setState({dinfo:t.data})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y.a,{style:{border:"1px solid rgb(235,237,240)",backgroundColor:"rgb(51,136,255)",fontFamily:"Microsoft Yahei"},title:"\u5c0a\u656c\u7684"+(this.state.dinfo?this.state.dinfo.tittle+"-"+this.state.dinfo.name:"\u8bf7\u7b49\u5f85\u52a0\u8f7d\u684c\u9762")+"\u684c\u987e\u5ba2\uff0c\u6b22\u8fce\u60a8\uff01"}),r.a.createElement("h2",{style:{textAlign:"center",position:"absolute",top:"30%",left:"30%"}},"\u8bf7\u9009\u62e9\u70b9\u9910\u4eba\u6570"),r.a.createElement(v.a.Group,{style:{position:"absolute",top:"40%"},value:this.state.customs,onChange:this.customsChange},r.a.createElement(v.a.Button,{value:1},"1"),r.a.createElement(v.a.Button,{value:2},"2"),r.a.createElement(v.a.Button,{value:3},"3"),r.a.createElement(v.a.Button,{value:4},"4")),r.a.createElement(O.a,{style:{position:"absolute",top:"50%"},type:"primary",onClick:function(){e.confirm(e.state.customs)},block:!0},"\u786e\u5b9a"))}}]),t}(n.Component)),x=Object(i.g)(k),j=a(44),w=a(22),C=(a(310),a(420)),S=a(10),P=a(187),D=a(425);function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=C.a.Meta;function B(e){var t=e.food,a=e.onUpdateInc,o=e.onUpdateDec,l=t.count,c=Object(n.useState)(l),i=Object(w.a)(c,2),s=i[0],u=i[1];return Object(n.useEffect)((function(){u(l)}),[l]),r.a.createElement("div",null,r.a.createElement(C.a,{style:{border:"5px solid rgb(235,237,240)"},actions:[r.a.createElement(O.a,{onClick:function(){s>0&&(u(s-1),o(t,s-1))}},r.a.createElement(S.a,{type:"minus"})),r.a.createElement("h2",null,s||0),r.a.createElement(O.a,{onClick:function(){return u(s+1),void a(t,s+1)}},r.a.createElement(S.a,{type:"plus"}))]},r.a.createElement(M,{style:{pointerEvents:"none"},avatar:r.a.createElement(P.a,{shape:"square",size:110,src:"/upload/"+t.img}),title:"\u540d\u79f0:"+t.name,description:r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",null,"\u63cf\u8ff0:  ",t.desc),r.a.createElement("div",null,"\u4ef7\u683c:  ",t.price)))})))}function L(e){var t=e.details;return r.a.createElement("div",{className:"shopCartEX",style:{position:"absolute",top:"55px",width:"100%",maxWidth:"90%"}},t.map((function(e){return 0!==e.count?r.a.createElement("div",{style:{boxSizing:"border-box",maxWidth:"100%",margin:"5px"}},r.a.createElement("div",{style:{float:"left",width:"50%"}},"\u540d\u79f0:",e.name),r.a.createElement("div",{style:{float:"right",marginLeft:"20px"}},"\u4ef7\u683c\uff1a",e.count*e.price),r.a.createElement("div",{style:{float:"right"}},"\u6570\u91cf\uff1a",e.count)):void 0})))}function R(e){var t=e.total,a=e.details,o=e.placeOrder,l=Object(n.useState)(!1),c=Object(w.a)(l,2),i=c[0],s=c[1];function u(){s(!1)}return r.a.createElement("div",null,r.a.createElement(D.a,{title:"\u8d2d\u7269\u8f66",placement:"bottom",closable:!1,onClose:u,visible:i},r.a.createElement(L,{details:a}),r.a.createElement("div",{style:{position:"absolute",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},r.a.createElement(O.a,{style:{marginRight:8},onClick:u},"\u6536\u8d77"),r.a.createElement(O.a,{onClick:function(){u(),o()},type:"primary"},"\u4e0b\u5355"))),r.a.createElement("div",{style:{position:"fixed",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},r.a.createElement(O.a,{type:"primary",onClick:function(){s(!0)},style:{float:"left"},disabled:!(t>0)},r.a.createElement(S.a,{type:"shopping-cart"}),"\u8d2d\u7269\u8f66"),r.a.createElement(O.a,{type:"primary",style:{float:"right",marginLeft:"10px"},onClick:o},"\u4e0b\u5355"),r.a.createElement("div",{style:{float:"right",lineHeight:"30px"}},"\u603b\u4ef7:",t)))}var N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).foodInc=function(e,t){var n=a.did;a.socket.emit("food inc",{food:e,count:t,deskid:n})},a.foodDec=function(e,t){var n=a.did;a.socket.emit("food dec",{food:e,count:t,deskid:n})},a.onInc=function(e,t){var n=a.state.foods.findIndex((function(t){return t.name===e.name}));if(n>=0){var r=t[n].count;a.state.foods[n].count=r}else a.state.foods.push(e);a.setState({foods:a.state.foods,order:I({},a.state.order,{totalPrice:a.state.order.totalPrice+e.price,details:t})}),console.log(a.state.foods)},a.onDec=function(e,t){var n=a.state.foods.findIndex((function(t){return t.name===e.name}));if(n>=0){if(t[n]){var r=t[n].count;a.state.foods[n].count=r}else a.state.foods[n].count=0;a.setState(I({},a.state,{order:I({},a.state.order,{totalPrice:a.state.order.totalPrice-e.price,details:t})}))}},a.placeOrder=function(){var e=I({},a.state.order,{details:JSON.stringify(a.state.order.details)});h.post("/restaurant/".concat(a.rid,"/desk/").concat(a.did,"/order"),e),a.props.history.push("/r/".concat(a.rid,"/d/").concat(a.did,"/placeorder")),a.socket.emit("order success",a.did)},a.state={deskinfo:null,foods:[],order:{deskName:null,totalPrice:0,memberCount:a.memberCount,details:[]}},a.memberCount=a.props.match.params.count,a.did=a.props.match.params.did,a.rid=a.props.match.params.rid,a.history=a.props.history,a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.get("/deskinfo?did=".concat(this.did)).then((function(t){e.setState({deskinfo:t.data,order:{deskName:t.data.name,totalPrice:0,memberCount:e.memberCount,details:[]}})})),h.get("/menu/restaurant/1").then((function(t){e.setState({foods:t.data})})),this.socket=b()(),this.socket.on("connect",(function(){e.socket.emit("join desk",{memberCount:e.memberCount,desk:e.did}),e.socket.emit("someone in",{memberCount:e.memberCount,desk:e.did})})),this.socket.on("cart food",(function(t){var a=e.state.foods;!function(e,t){for(var a in t){var n=e.findIndex((function(e){return e.name===t[a].name}));e[n].count=t[a].count}}(a,t.cartfood),t.totalPrice&&e.setState({foods:a,order:I({},e.state.order,{details:t.cartfood,totalPrice:t.totalPrice.total})}),console.log(e.state)})),this.socket.on("food inc",(function(t){e.onInc(t.food,t.menu)})),this.socket.on("food dec",(function(t){e.onDec(t.food,t.menu)})),this.socket.on("order success",(function(){e.props.history.push("/qrorder/r/".concat(e.rid,"/d/").concat(e.did,"/placeorder"))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(y.a,{style:{border:"1px solid rgb(235,237,240)",backgroundColor:"rgb(51,136,255)",fontFamily:"Microsoft Yahei"},title:"\u83dc\u5355\u754c\u9762"}),this.state.foods.map((function(t){return r.a.createElement(B,{key:t.name,food:t,onUpdateInc:e.foodInc,onUpdateDec:e.foodDec})})),r.a.createElement(R,{total:this.state.order.totalPrice,details:this.state.order.details,placeOrder:this.placeOrder}))}}]),t}(n.Component),F=a(17),T=a.n(F),A=a(29),J=Object(i.g)((function(e){var t=Object(n.useState)({}),a=Object(w.a)(t,2),o=a[0],l=a[1],c=e.match.params,i=c.rid,s=c.did;if(Object(n.useEffect)((function(){Object(A.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get("/restaurant/".concat(i,"/desk/").concat(s,"/placeorder"));case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))()}),[]),o.data){var u=JSON.parse(o.data.details),d=o.data.totalPrice;return r.a.createElement("div",null,r.a.createElement(y.a,{style:{border:"1px solid rgb(235,237,240)",backgroundColor:"rgb(51,136,255)",fontFamily:"Microsoft Yahei"},title:"\u4e0b\u5355\u6210\u529f\uff01"}),u.map((function(e){return 0!==e.count?r.a.createElement("div",{style:{boxSizing:"border-box",borderBottom:"1px solid black",overflow:"hidden",maxWidth:"100%",margin:"5px"}},r.a.createElement("div",{style:{float:"left",width:"50%"}},"\u540d\u79f0:",e.name),r.a.createElement("div",{style:{float:"right",marginLeft:"20px"}},"\u4ef7\u683c\uff1a",e.count*e.price),r.a.createElement("div",{style:{float:"right"}},"\u6570\u91cf\uff1a",e.count)):void 0})),r.a.createElement("div",{style:{position:"fixed",bottom:0,width:"100%",borderTop:"1px solid #e8e8e8",padding:"10px 16px",textAlign:"right",left:0,background:"#fff",borderRadius:"0 0 4px 4px"}},r.a.createElement(O.a,{type:"primary",style:{float:"right",marginLeft:"10px"}},r.a.createElement("a",{href:"http://47.102.207.48/#/landing/r/1/d/1"},"\u518d\u6765\u4e00\u5355")),r.a.createElement("div",{style:{float:"right",lineHeight:"30px"}},"\u603b\u4ef7:",d)))}return r.a.createElement("div",null,"loading...")})),z=a(195),H=a(189),V=(a(320),a(423)),U=a(419),W=a(421);function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=C.a.Meta,G=V.a.Panel;function K(e){var t,a=e.order,o=e.onDelete,l=Object(n.useState)(a),c=Object(w.a)(l,2),i=c[0],s=c[1];function u(){return(u=Object(A.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.delete("restaurant/1/order/"+a.id),o(a);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",null,r.a.createElement(C.a,{style:{border:"5px solid rgb(235,237,240)"},actions:[r.a.createElement(O.a,null,r.a.createElement(S.a,{type:"printer"}),"\u6253\u5370"),r.a.createElement(O.a,{onClick:function(){h.put("restaurant/1/order/".concat(a.id,"/status"),{status:"confirmed"}).then((function(){s(Q({},i,{status:"confirmed"}))}))}},r.a.createElement(S.a,{type:"check-circle"}),"\u786e\u8ba4"),r.a.createElement(O.a,{onClick:function(){h.put("restaurant/1/order/".concat(a.id,"/status"),{status:"completed"}).then((function(){s(Q({},i,{status:"completed"}))}))}},r.a.createElement(S.a,{type:"file-done"}),"\u5b8c\u6210"),r.a.createElement(O.a,{onClick:function(){return u.apply(this,arguments)}},r.a.createElement(S.a,{type:"close-circle"}),"\u53d6\u6d88")]},r.a.createElement(_,{style:{pointerEvents:"none"},title:"\u684c\u53f7:"+i.deskName,description:r.a.createElement("div",null,"\u603b\u4ef7\u683c:"+i.totalPrice+"    \u4eba\u6570:"+i.memberCount+"    \u8ba2\u5355\u72b6\u6001:"+(t=i.status,"pending"===t?"  \u7b49\u5f85\u8ba2\u5355\u786e\u8ba4\u4e2d":"confirmed"===t?"  \u5df2\u786e\u8ba4":"  \u5df2\u5b8c\u6210"),r.a.createElement(V.a,null,r.a.createElement(G,{header:"\u8ba2\u5355\u8be6\u60c5",key:"1",style:{pointerEvents:"initial",marginBottom:"10px"}},r.a.createElement("div",null,i.details.map((function(e){return r.a.createElement("div",{style:{position:"relative"},key:e.name},r.a.createElement("div",{style:{float:"right"}},"\u6570\u91cf:"+e.count),r.a.createElement("div",{style:{width:"100px",position:"absolut",right:"0px"}},"\u83dc\u54c1:"+e.name))}))))))})))}var X=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){var t=a.state.orders.findIndex((function(t){return t.id===e.id}));a.setState(Object(H.a)((function(e){e.orders.splice(t,1)})))},a.state={orders:[]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.socket=b()(),this.socket.on("new order",(function(t){e.setState((function(a){return{orders:[t].concat(Object(z.a)(e.state.orders))}}))})),h.get("/restaurant/1/order").then((function(t){e.setState({orders:t.data})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,this.state.orders.length>0?this.state.orders.map((function(t){return r.a.createElement(K,{key:t.id,order:t,onDelete:e.onDelete})})):r.a.createElement(U.a,null)))}}]),t}(n.Component);W.a.create({name:"orderManage"})(X);function $(){return r.a.createElement("div",null,"\u529f\u80fd\u5f00\u53d1\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...")}a(397);var Z=a(424);function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach((function(t){Object(j.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ae=C.a.Meta,ne=W.a.create({name:"FoodManage"})((function(e){var t=Object(n.useState)([]),a=Object(w.a)(t,2),o=a[0],l=a[1];e.form.getFieldDecorator;return Object(n.useEffect)((function(){h.get("restaurant/1/food").then((function(e){l(e.data)}))}),[]),r.a.createElement("div",null,r.a.createElement(oe,{upProps:e}),r.a.createElement("div",null,o.map((function(t){return r.a.createElement(re,{key:t.id,food:t,upProps:e})}))))}));W.a.create({name:"FoodItem"})(re);function re(e){var t=e.food,a=e.upProps,o=Object(n.useState)(t),l=Object(w.a)(o,2),c=l[0],i=l[1],s=Object(n.useState)(!1),u=Object(w.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)({name:t.name,desc:t.desc,price:t.price,category:t.category,status:t.status,img:null}),f=Object(w.a)(p,2),E=f[0],g=f[1];function b(e){m(!1===e)}function y(e){g(te({},E,Object(j.a)({},e.target.name,e.target.value)))}function v(e){"on"===e.status?g(te({},e,{status:"off"})):g(te({},e,{status:"on"})),h.put("/restaurant/1/food/"+t.id,e)}return r.a.createElement("div",null,d?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(Z.a,{type:"text",onChange:y,defaultValue:c.name,name:"name",addonBefore:"\u540d\u79f0"}),r.a.createElement(Z.a,{type:"text",onChange:y,defaultValue:c.desc,name:"desc",addonBefore:"\u63cf\u8ff0"}),r.a.createElement(Z.a,{type:"text",onChange:y,defaultValue:c.price,name:"price",addonBefore:"\u4ef7\u683c"}),r.a.createElement(Z.a,{type:"text",onChange:y,defaultValue:c.category,name:"category",addonBefore:"\u5206\u7c7b"}),r.a.createElement(Z.a,{type:"file",onChange:function(e){g(te({},E,{img:e.target.files[0]}))},name:"img",addonBefore:"\u56fe\u7247"}))),r.a.createElement("div",null,r.a.createElement(O.a,{onClick:function(){return function(){var e=new FormData;for(var a in E){var n=E[a];e.append(a,n)}h.put("/restaurant/1/food/"+t.id,e).then((function(e){m(!1),i(e.data)}))}()}},"\u786e\u8ba4"),r.a.createElement(O.a,{onClick:function(){b(d)}},"\u8fd4\u56de"),r.a.createElement(O.a,{onClick:function(){return v(E)}},r.a.createElement(S.a,{type:"check-circle"}),"on"===E.status?"\u4e0a\u67b6":"\u4e0b\u67b6"))):r.a.createElement(C.a,{actions:[r.a.createElement(O.a,{onClick:function(){b(d)}},r.a.createElement(S.a,{type:"printer"}),"\u4fee\u6539"),r.a.createElement(O.a,{onClick:function(){return v(E)}},r.a.createElement(S.a,{type:"check-circle"}),"on"===E.status?"\u4e0a\u67b6":"\u4e0b\u67b6"),r.a.createElement(O.a,{onClick:function(){return e=a,void h.delete("/restaurant/1/food/"+t.id).then((function(){e.history.go(0)}));var e}},r.a.createElement(S.a,{type:"file-done"}),"\u5220\u9664")]},r.a.createElement(ae,{avatar:r.a.createElement(P.a,{shape:"square",size:110,src:"/upload/"+c.img}),title:c.name,description:r.a.createElement("div",null,r.a.createElement("div",null,"\u63cf\u8ff0\uff1a",c.desc?c.desc:"\u6682\u65e0\u63cf\u8ff0"),r.a.createElement("div",null,"\u4ef7\u683c\uff1a",c.price),r.a.createElement("div",null,"\u5206\u7c7b\uff1a",c.category?c.category:"\u6682\u672a\u5206\u7c7b"))})))}function oe(e){var t=Object(n.useState)(!1),a=Object(w.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)({name:null,desc:null,price:null,category:null,status:"on",img:null}),i=Object(w.a)(c,2),s=i[0],u=i[1];function d(){l(!1===o)}function m(e){u(te({},s,Object(j.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",null,o?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(Z.a,{type:"text",onChange:m,name:"name",addonBefore:"\u540d\u79f0"}),r.a.createElement(Z.a,{type:"text",onChange:m,name:"desc",addonBefore:"\u63cf\u8ff0"}),r.a.createElement(Z.a,{type:"text",onChange:m,name:"price",addonBefore:"\u4ef7\u683c"}),r.a.createElement(Z.a,{type:"file",onChange:function(e){u(te({},s,{img:e.target.files[0]}))},name:"img",addonBefore:"\u56fe\u7247"}),r.a.createElement(Z.a,{type:"text",onChange:m,name:"category",addonBefore:"\u5206\u7c7b"}))),r.a.createElement("div",null,r.a.createElement(O.a,{onClick:function(){return function(e){var t=new FormData;for(var a in s){var n=s[a];t.append(a,n)}h.post("/restaurant/1/food",t).then((function(){e.history.go(0)}))}(e.upProps)}},"\u786e\u8ba4"),r.a.createElement(O.a,{onClick:function(){return d()}},"\u8fd4\u56de"))):r.a.createElement("div",null,r.a.createElement(O.a,{onClick:d,type:"primary ",block:!0},"\u6dfb\u52a0\u83dc\u54c1")))}var le=Object(i.g)(ne);function ce(){return r.a.createElement("div",null,"\u529f\u80fd\u5f00\u53d1\u4e2d\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85...")}a(403);var ie=a(140),se=W.a.create({name:"manage"})((function(e){var t=Object(i.f)(),a=Object(n.useState)("orderManage"),o=Object(w.a)(a,2),l=o[0],s=o[1],u=Object(n.useState)(null),d=Object(w.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){Object(A.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.get("/userinfo");case 3:a=e.sent,p(a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.push("/qrorder");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[]),r.a.createElement("div",{className:"manageContainer"},r.a.createElement(y.a,{style:{border:"1px solid rgb(235,237,240)",backgroundColor:"rgb(51,136,255)",fontFamily:"Microsoft Yahei"},onBack:Object(A.a)(T.a.mark((function t(){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.get("/logout");case 2:e.history.push("/");case 3:case"end":return t.stop()}}),t)}))),title:m?"\u6b22\u8fce:"+m.tittle:"loading"}),r.a.createElement(ie.a,{style:{border:"1px solid rgb(235,237,240)"},onClick:function(e){s(e.key)},selectedKeys:[l],mode:"horizontal"},r.a.createElement(ie.a.Item,{style:{paddingLeft:"10px",paddingRight:"10px"},key:"orderManage"},r.a.createElement(S.a,{style:{margin:"5px"},type:"profile"}),r.a.createElement(c.b,{style:{float:"right"},to:"/qrorder/manage/order"},"\u8ba2\u5355\u7ba1\u7406")),r.a.createElement(ie.a.Item,{style:{paddingLeft:"10px",paddingRight:"10px"},key:"foodManage"},r.a.createElement(S.a,{style:{margin:"5px"},type:"appstore"}),r.a.createElement(c.b,{style:{float:"right"},to:"/qrorder/manage/food"},"\u83dc\u54c1\u7ba1\u7406")),r.a.createElement(ie.a.Item,{style:{paddingLeft:"10px",paddingRight:"10px"},key:"deskManage"},r.a.createElement(S.a,{style:{margin:"5px"},type:"appstore"}),r.a.createElement(c.b,{style:{float:"right"},to:"/qrorder/manage/desk"},"\u684c\u9762\u7ba1\u7406")),r.a.createElement(ie.a.Item,{style:{paddingLeft:"10px",paddingRight:"10px"},key:"settingManage"},r.a.createElement(S.a,{style:{margin:"5px"},type:"profile"}),r.a.createElement(c.b,{style:{float:"right"},to:"/qrorder/manage/setting"},"\u8bbe\u7f6e"))),r.a.createElement("main",{style:{boxSizing:"border-box",border:"1px solid rgb(235,237,240)"}},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/qrorder/manage/order",component:X}),r.a.createElement(i.a,{path:"/qrorder/manage/desk",component:$}),r.a.createElement(i.a,{path:"/qrorder/manage/food",component:le}),r.a.createElement(i.a,{path:"/qrorder/manage/setting",component:ce}))))}));var ue=Object(i.g)(se),de=(a(404),a(427)),me=W.a.create({name:"normal_login"})((function(e){var t=Object(n.useRef)(),a=e.form.getFieldDecorator;function o(){return(o=Object(A.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.form.validateFields(function(){var t=Object(A.a)(T.a.mark((function t(a,n){var r,o,l;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=13;break}return r=n.username,o=n.password,l=n.captcha,t.prev=4,t.next=7,h.post("/login",{username:r,password:o,captcha:l});case 7:e.history.push("/qrorder/manage/order"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),alert(t.t0.response.data.msg);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,a){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"logPage"},r.a.createElement("div",{className:"logContainer"},r.a.createElement("h1",null,"\u5546\u6237\u767b\u5f55"),r.a.createElement(W.a,{onSubmit:function(e){return o.apply(this,arguments)}},r.a.createElement(W.a.Item,null,a("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u7528\u6237\u540d"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(S.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),r.a.createElement(W.a.Item,null,a("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}]})(r.a.createElement(Z.a.Password,{prefix:r.a.createElement(S.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),r.a.createElement(W.a.Item,null,a("captcha",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u9a8c\u8bc1\u7801"}]})(r.a.createElement(Z.a,{prefix:r.a.createElement(S.a,{type:"check",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u9a8c\u8bc1\u7801",style:{width:"140px",verticalAlign:"middle",height:"52px"}})),a("captcha",{})(r.a.createElement("img",{alt:"",onClick:function(){console.log(t.current),t.current.src="",setTimeout((function(){pe=Date.now(),t.current.src="/api/captcha?"+pe}),1)},src:"/api/captcha?"+pe,ref:t}))),r.a.createElement(W.a.Item,null,a("remember",{valuePropName:"checked",initialValue:!0})(r.a.createElement(de.a,null,"\u8bb0\u4f4f\u6211")),r.a.createElement(c.b,{to:"/register"},r.a.createElement("a",{className:"/qrorder/register"},"\u7528\u6237\u6ce8\u518c")),r.a.createElement("br",null),r.a.createElement(O.a,{type:"primary",htmlType:"submit",className:"login-form-button",block:!0},"\u767b\u5f55")))))})),pe=Date.now();var fe=Object(i.g)(me),Ee=(a(405),W.a.create({name:"normal_register"})((function(e){var t=e.form.getFieldDecorator;function a(){return(a=Object(A.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),e.form.validateFields(function(){var t=Object(A.a)(T.a.mark((function t(a,n){var r,o,l,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=14;break}return r=n.username,o=n.password,l=n.email,c=n.tittle,t.prev=5,t.next=8,h.post("/register",{username:r,password:o,email:l,tittle:c});case 8:e.history.push("/qrorder/login"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),alert(t.t0.response.data.msg);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e,a){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("div",{className:"registerContainer"},r.a.createElement("h1",null,"\u6ce8\u518c\u754c\u9762"),r.a.createElement(W.a,{onSubmit:function(e){return a.apply(this,arguments)}},r.a.createElement(W.a.Item,null,t("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(r.a.createElement(Z.a,{placeholder:"\u7528\u6237\u540d\u6ce8\u518c"}))),r.a.createElement(W.a.Item,null,t("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u5bc6\u7801"}]})(r.a.createElement(Z.a.Password,{type:"password",placeholder:"\u5bc6\u7801\u8bbe\u7f6e"}))),r.a.createElement(W.a.Item,null,t("email",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740"}]})(r.a.createElement(Z.a,{placeholder:"\u90ae\u7bb1\u5730\u5740\u6ce8\u518c"}))),r.a.createElement(W.a.Item,null,t("tittle",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e97\u540d"}]})(r.a.createElement(Z.a,{placeholder:"\u5e97\u540d\u6ce8\u518c"}))),r.a.createElement(O.a,{htmlType:"submit"},"\u6ce8\u518c"),r.a.createElement(O.a,{onClick:function(t){!function(t){t.preventDefault(),e.history.go(-1)}(t)},style:{float:"right"}},"\u8fd4\u56de")))})));var he=Object(i.g)(Ee),ge=a(27),be=Object(ge.b)(),ye=function(){return r.a.createElement("div",{style:{margin:"auto",width:"800px"}},r.a.createElement("h1",{style:{textAlign:"center"}},"\u4e2a\u4eba\u7b80\u5386"),r.a.createElement("h2",null,"\u4e2a\u4eba\u4ecb\u7ecd"),r.a.createElement("hr",null),r.a.createElement("ul",null,r.a.createElement("li",null,"\u59d3\u540d:\u5218\u5b50\u9633 \u6027\u522b:\u7537 \u5e74\u9f84:23\u5c81"),r.a.createElement("li",null,"\u5b66\u5386:\u672c\u79d1"),r.a.createElement("li",null,"\u5b66\u6821:\u6e56\u5357\u79d1\u6280\u5927\u5b66(2014.09-2018.07)"),r.a.createElement("li",null,"\u90ae\u7bb1:470947999@qq.com"),r.a.createElement("li",null,"\u624b\u673a:13762219636"),r.a.createElement("li",null,"\u81ea\u6211\u8bc4\u4ef7:\u70ed\u7231\u4e92\u8054\u7f51\u884c\u4e1a\uff0c\u6709\u4e0a\u8fdb\u5fc3\uff0c\u8d23\u4efb\u5fc3\u548c\u826f\u597d\u7684\u56e2\u961f\u5408\u4f5c\u7cbe\u795e\u3002\u80fd\u591f\u4fdd\u6301\u5f88\u9ad8\u7684\u5de5\u4f5c\u70ed\u60c5\u4e0e\u72b6\u6001\u3002")),r.a.createElement("h2",null,"\u4e2a\u4eba\u6280\u80fd"),r.a.createElement("hr",null),r.a.createElement("h3",null,"CSS/HTML"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u719f\u6089HTML\u5404\u4e2a\u6807\u7b7e\u4e0e\u5c5e\u6027\uff0cHTML\u8bed\u4e49\u5316"),r.a.createElement("li",null,"\u719f\u7ec3\u638c\u63e1CSS\u76d2\u6a21\u578b\u884c\u5185\u4ee5\u53ca\u5757\u7ea7\u683c\u5f0f\u5316"),r.a.createElement("li",null,"\u901a\u8bfb\u300athe book of CSS3\u300b\uff0c\u300aCSS\u6743\u5a01\u6307\u5357\u300b"),r.a.createElement("li",null,"\u7528\u7eafCSS\u5b9e\u73b0\u4e86",r.a.createElement("a",{href:"/others/mi/index.html"},"\u5c0f\u7c73\u9996\u9875"),"\u7684\u9759\u6001\u9875\u9762\uff0c\u8fd8\u6709\u4e00\u4e9b\u5c0f\u6837\u5f0f\u5982\u6307\u9488\u6296\u52a8\u7684",r.a.createElement("a",{href:"/others/clock.html"},"\u65f6\u949f"),"\uff0c\u4ee5\u53ca",r.a.createElement("a",{href:"/others/slider.html"},"Slider"))),r.a.createElement("hr",null),r.a.createElement("h3",null,"JavaScript"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u719f\u6089\u539f\u751fJS\uff0c\u6df1\u5165\u7406\u89e3\u539f\u578b\uff0c\u9ad8\u9636\uff0c\u95ed\u5305\uff0c\u5f02\u6b65\uff0c\u719f\u6089ES6\u5982Class\uff0cGenerator\uff0cPromise\u7b49\u65b0\u7279\u6027"),r.a.createElement("li",null,"\u719f\u6089DOM\uff0cBOM\u7b49\u6d4f\u89c8\u5668API\uff0c\u719f\u6089jQuery"),r.a.createElement("li",null,"\u81ea\u5b66\u671f\u95f4\uff0cLeetCode\u5237\u9898\u8fc7200\uff0c\u5b9e\u73b0Lodash\u51fd\u6570100\u5de6\u53f3"),r.a.createElement("li",null,"\u719f\u6089Node.js\uff0c\u719f\u6089npm\uff0c\u4e86\u89e3Express\uff0c\u4e86\u89e3\u5176\u4e2d\u95f4\u4ef6\u673a\u5236"),r.a.createElement("li",null,"\u901a\u8bfb\u300aEloquent JavaScript\u300b\uff0c\u300aJavaScript \u6743\u5a01\u6307\u5357\u300b")),r.a.createElement("hr",null),r.a.createElement("h3",null,"\u524d\u7aef\u5de5\u7a0b\u5316"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u80fd\u591f\u719f\u7ec3\u4f7f\u7528DevTools\u8fdb\u884c\u5f00\u53d1\u548c\u8c03\u8bd5"),r.a.createElement("li",null,"\u719f\u6089React\u7684\u4f7f\u7528\uff0cReact\u751f\u547d\u5468\u671f\uff0c\u719f\u7ec3\u4f7f\u7528React\u51fd\u6570\u7ec4\u4ef6\u4e0eClass\u7ec4\u4ef6"),r.a.createElement("li",null,"\u4e86\u89e3Vue\u7684\u4f7f\u7528"),r.a.createElement("li",null,"\u4f7f\u7528React\u5b9e\u73b0\u4e86\u626b\u7801\u70b9\u9910:",r.a.createElement("ul",null,r.a.createElement("li",null,"\u4f7f\u7528\u5de5\u5177:",r.a.createElement("ul",null,r.a.createElement("li",null,"\u524d\u7aef:React,axios,socket.io-client,Ant Design"),r.a.createElement("li",null,"\u540e\u7aef:SQlite,Express,socket.io"))),r.a.createElement("li",null,"\u4e3b\u8981\u529f\u80fd:",r.a.createElement("ul",null,r.a.createElement("li",null,"\u5b9e\u73b0\u4e86\u8ba2\u5355\u7684\u5b9e\u65f6\u66f4\u65b0\u529f\u80fd\uff0c\u7528\u6237\u7684\u5b9e\u65f6\u540c\u6b65\u70b9\u9910\u529f\u80fd\u4ee5\u53ca\u5546\u6237\u7684\u767b\u5f55\u4e0e\u6ce8\u518c\uff0c\u9a8c\u8bc1\u7801\u529f\u80fd\uff0c\u56fe\u50cf\u4e0a\u4f20\u529f\u80fd\u7b49\u3002"))),r.a.createElement("li",null,"\u94fe\u63a5:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/qrorder/landing/r/1/d/1"},"\u5ba2\u6237\u7aef"),"(\u5efa\u8bae\u624b\u673a\u626b\u4e8c\u7ef4\u7801\u6d4f\u89c8)"),r.a.createElement("li",null,"\u5ba2\u6237\u7aef\u4e8c\u7ef4\u7801",r.a.createElement("img",{src:""})),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/qrorder"},"\u5546\u6237\u7aef"),"(\u7528\u6237\u540da\uff0c\u5bc6\u7801a,\u5efa\u8bae\u624b\u673a\u6d4f\u89c8)")))))),r.a.createElement("hr",null),r.a.createElement("h3",null,"\u8ba1\u7b97\u673a\u57fa\u7840"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u719f\u6089\u5e38\u7528\u7684\u6570\u636e\u7ed3\u6784\uff08\u6570\u7ec4\uff0c\u94fe\u8868\uff0c\u6811\uff0c\u5806...\uff09"),r.a.createElement("li",null,"\u7406\u89e3\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u57fa\u672c\u539f\u7406\u4e0e\u5206\u5c42\u6a21\u578b"),r.a.createElement("li",null,"\u719f\u6089HTTP\u534f\u8bae\u673a\u5236\uff0c\u5e38\u7528\u7684\u9996\u90e8\u4ee5\u53ca\u7f13\u5b58\u65b9\u5f0f"),r.a.createElement("li",null,"\u4e86\u89e3\u6570\u636e\u5e93\u53caSQL\u8bed\u8a00\u7684\u4f7f\u7528")))};a(406);var ve=function(){return r.a.createElement(c.a,null,r.a.createElement(i.c,{history:be},r.a.createElement(i.a,{path:"/",exact:!0,component:ye}),r.a.createElement(i.a,{path:"/qrorder",exact:!0,component:fe}),r.a.createElement(i.a,{path:"/qrorder/landing/r/:rid/d/:did",component:x}),r.a.createElement(i.a,{path:"/qrorder/r/:rid/d/:did/c/:count",component:N}),r.a.createElement(i.a,{path:"/qrorder/r/:rid/d/:did/placeorder",component:J}),r.a.createElement(i.a,{path:"/qrorder/manage",component:ue}),r.a.createElement(i.a,{path:"/qrorder/login",component:fe}),r.a.createElement(i.a,{path:"/qrorder/register",component:he})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=a(194),ke=a.n(Oe);window._=ke.a,window.api=h,window.axios=E.a,l.a.render(r.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[200,1,2]]]);
//# sourceMappingURL=main.55245242.chunk.js.map